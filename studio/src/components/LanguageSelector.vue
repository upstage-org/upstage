<template>
  <div class="locale-changer">
    <a-select v-model:value="$i18n.locale" @update:value="persistLocale">
      <a-select-option
        v-for="locale in $i18n.availableLocales"
        :key="locale"
        :value="locale"
      >
        {{ flags[locale] ?? "ğŸ³ï¸â€ğŸŒˆ" }} {{ labels[locale] ?? locale }}
      </a-select-option>
    </a-select>
  </div>
</template>

<script setup>
const flags = {
  en: "ğŸ‡¬ğŸ‡§",
  de: "ğŸ‡©ğŸ‡ª",
  vn: "ğŸ‡»ğŸ‡³",
};
const labels = {
  en: "English",
  de: "Deutsch",
  vn: "Tiáº¿ng Viá»‡t",
};
const persistLocale = (locale) => {
  localStorage.setItem("locale", locale);
};
</script>
