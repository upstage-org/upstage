<template>
  <div class="locale-changer m-3">
    <a-select
      v-model:value="$i18n.locale"
      @update:value="persistLocale"
      class="w-full"
    >
      <a-select-option
        v-for="locale in $i18n.availableLocales"
        :key="locale"
        :value="locale"
      >
        {{ flags[locale] ?? "ğŸ³ï¸â€ğŸŒˆ" }} {{ labels[locale] ?? locale }}
      </a-select-option>
    </a-select>
  </div>
</template>

<script setup>
const flags = {
  en: "ğŸ‡¬ğŸ‡§",
  de: "ğŸ‡©ğŸ‡ª",
  vn: "ğŸ‡»ğŸ‡³",
  fr: "ğŸ‡«ğŸ‡·",
  se: "ğŸ‡¸ğŸ‡ª",
  pt: "ğŸ‡µğŸ‡¹",
  es: "ğŸ‡ªğŸ‡¸",
};

const labels = {
  en: "English",
  de: "Deutsch",
  vn: "Tiáº¿ng Viá»‡t",
  fr: "FranÃ§ais",
  se: "Svenska",
  pt: "PortuguÃªs",
  es: "EspaÃ±ol",
};
const persistLocale = (locale) => {
  localStorage.setItem("locale", locale);
};
</script>
